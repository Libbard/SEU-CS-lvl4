<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Exam - Computer Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      window.MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #f8fafc; }
        .blue-gradient { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
        
        /* ุชูุณูู ุจุทุงูุฉ ุงูุณุคุงู */
        .question-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.3s;
        }
        
        /* ุญุงูุงุช ุงูุฅุฌุงุจุฉ */
        .question-card.correct-card { border-right: 5px solid #22c55e; background-color: #f0fdf4; }
        .question-card.wrong-card { border-right: 5px solid #ef4444; background-color: #fef2f2; }

        /* ุฃุฒุฑุงุฑ ุงูุฎูุงุฑุงุช */
        .option-btn {
            display: block;
            width: 100%;
            text-align: right;
            padding: 12px 15px;
            margin: 8px 0;
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }
        .option-btn:hover:not(.disabled) { background-color: #e0f2fe; border-color: #3b82f6; }
        
        /* ุฃููุงู ุงูุชุตุญูุญ */
        .option-btn.correct { background-color: #dcfce7 !important; border-color: #22c55e !important; color: #166534; font-weight: bold; }
        .option-btn.wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; color: #991b1b; }
        .option-btn.disabled { pointer-events: none; opacity: 0.8; }

        /* ููุทูุฉ ุงูุบุด (ุงูุดุฑุญ) */
        .cheat-box {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #fffbeb;
            border: 1px solid #fcd34d;
            border-radius: 8px;
            color: #92400e;
            font-size: 0.9rem;
            animation: fadeIn 0.5s;
        }

        /* ุงูุฃุณุฆูุฉ ุงูููุงููุฉ */
        .essay-answer {
            display: none;
            margin-top: 15px;
            padding: 20px;
            background-color: #eff6ff;
            border-right: 4px solid #3b82f6;
            border-radius: 8px;
            color: #1e3a8a;
            line-height: 1.8;
        }

        /* ุงูุทุจุงุนุฉ */
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .question-card { break-inside: avoid; border: 1px solid #ccc; box-shadow: none; }
            .cheat-box, .essay-answer { display: block !important; border: 1px dashed #999; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 pb-20">

    <nav class="bg-white shadow-md sticky top-0 z-50 border-b border-blue-100 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-black text-blue-700 ml-2">ArchMaster</a>
                    <span class="text-xs bg-blue-100 text-blue-800 py-1 px-2 rounded-full font-bold border border-blue-200">Exam Mode</span>
                </div>
                
                <div class="flex items-center gap-2 md:gap-3">
                    <a href="index.html" class="flex items-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1.5 rounded-lg text-sm font-bold transition">
                        <span>๐</span> <span class="hidden md:inline">ุงูุฑุฆูุณูุฉ</span>
                    </a>

                    <div id="timer" class="bg-slate-800 text-white px-3 py-1.5 rounded-lg font-mono font-bold text-sm md:text-base">90:00</div>
                    
                    <button onclick="window.print()" class="bg-slate-200 hover:bg-slate-300 text-slate-700 px-3 py-1.5 rounded-lg text-sm font-bold" title="ุทุจุงุนุฉ">๐จ๏ธ</button>
                    <button onclick="resetExam()" class="bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1.5 rounded-lg text-sm font-bold" title="ุฅุนุงุฏุฉ">๐</button>
                </div>
            </div>
        </div>
    </nav>

    <header class="blue-gradient text-white py-12 text-center shadow-lg mb-8 no-print">
        <h1 class="text-3xl md:text-4xl font-black mb-2">CS-241 Final Practice Exam</h1>
        <p class="text-blue-100 text-lg">60 ุณุคุงู ุดุงูู + 5 ุฃุณุฆูุฉ ููุงููุฉ (ุชุบุทูุฉ ูุงููุฉ ูููููุฌ)</p>
    </header>

    <main class="max-w-4xl mx-auto px-4">
        
        <div class="flex justify-end mb-6 no-print">
            <button onclick="revealAll()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-bold shadow-lg transition transform hover:scale-105 flex items-center gap-2">
                <span>๐๏ธ</span> ูุดู ุฌููุน ุงูุฅุฌุงุจุงุช
            </button>
        </div>

        <div id="quiz-container" class="space-y-6">
            </div>

    </main>

    <script>
        // ==========================================
        // 1. ุจูู ุงูุฃุณุฆูุฉ (ุจูุงูุงุช ุฎุงู)
        // ==========================================
        const mcqData = [
            // ุงูุฌุฒุก ุงูุฃูู: ุงูุฃุณุงุณูุงุช (1-18)
            { q: "ุงููููู ุงูุฐู ูุญูู 'ุนููุงู' ุงูุชุนูููุฉ ุงูุชุงููุฉ ุงูุชู ุณูุชู ุชูููุฐูุง ูู:", options: ["IR (Instruction Register)", "PC (Program Counter)", "AC (Accumulator)", "MAR"], a: 1, cheat: "ุชุฐูุฑ ุฃู PC ูู 'ุงูุจูุตูุฉ' (Counter) ุงูุชู ุชุดูุฑ ููุฎุทูุฉ ุงููุงุฏูุฉ." },
            { q: "ุฃู ููุง ููู ููุซู ุงูุนุฏุฏ -5 ุจูุธุงู 2โs Complement (4-bit)ุ", options: ["1011", "1101", "0101", "1111"], a: 0, cheat: "5 ุจุงูููุฌุจ (0101) -> ุงููุจ (1010) -> ุฃุถู ูุงุญุฏ (1011)." },
            { q: "ุงููุนุงุฏูุฉ ุงูุจูููุงููุฉ $x + xy$ ูููู ุชุจุณูุทูุง ุฅูู:", options: ["y", "x", "1", "0"], a: 1, cheat: "ูุงููู ุงูุงูุชุตุงุต: ุงููุชุบูุฑ ุงูููุฌูุฏ ููุญุฏู 'ููุชุต' ุงูุฒูุงุฏุฉ." },
            { q: "ูู ูุนูุงุฑูุฉ MARIEุ ุงูุชุนูููุฉ `JNS` ุชุณุชุฎุฏู ูู:", options: ["ุงูููุฒ ุงูุดุฑุทู", "ุชุฎุฒูู ุงูุจูุงูุงุช", "ุงุณุชุฏุนุงุก ุงูุฏูุงู (Subroutines)", "ุงูุนูููุงุช ุงูุญุณุงุจูุฉ"], a: 2, cheat: "JNS = Jump aNd Store (ุงููุฒ ูุฎุฒู ููุงู ุงูุฑุฌูุน)." },
            { q: "ุงูุฐุงูุฑุฉ ุงูุชู ุชููุฏ ุจูุงูุงุชูุง ุจูุฌุฑุฏ ุงููุทุงุน ุงูุชูุงุฑ ุงูููุฑุจุงุฆู ุชุณูู:", options: ["Non-volatile", "Volatile", "ROM", "Flash"], a: 1, cheat: "Volatile ุชุนูู 'ูุชููุจ' ุฃู 'ุทุงุฆุฑ' (ูุซู ุงูุฑุงู)." },
            { q: "ูู ููุท ุงูุนูููุฉ ุบูุฑ ุงููุจุงุดุฑุฉ (Indirect Addressing)ุ ุงููุนุงูู ูู ุงูุชุนูููุฉ ูุญุชูู ุนูู:", options: ["ุงูุจูุงูุงุช ููุณูุง", "ุนููุงู ุงูุจูุงูุงุช", "ุนููุงู ูุคุดุฑ ูุนููุงู ุงูุจูุงูุงุช", "ูุง ุดูุก ููุง ุณุจู"], a: 2, cheat: "Indirect = ูุฑูุฉ ููุชูุจ ูููุง ููุงู ุงูููุชุงุญุ ูููุณ ุงูููุชุงุญ ููุณู." },
            { q: "ุฃู ูุฑุญูุฉ ูู ุงูู Pipelining ูุณุคููุฉ ุนู ุฌูุจ ุงูุชุนูููุฉ ูู ุงูุฐุงูุฑุฉุ", options: ["Decode", "Execute", "Fetch", "Write-back"], a: 2, cheat: "Fetch ูู ุงูุฎุทูุฉ ุงูุฃููู ุฏุงุฆูุงู (ุฅุญุถุงุฑ)." },
            { q: "ุงูุนุฏุฏ `1101` ุจูุธุงู Signed Magnitude ูุณุงูู:", options: ["-5", "-3", "13", "-6"], a: 0, cheat: "ุงูุจุช ุงูุฃูุณุฑ (1) ููุฅุดุงุฑุฉุ ูุงูุจุงูู (101) ูู 5." },
            { q: "ุนูู ุงูุฒุฌุงุฌุฉ ูู ูุนูุงุฑูุฉ Von Neumann ููุชุฌ ุนู:", options: ["ุจุทุก ุงููุนุงูุฌ", "ุงููุณุงุฑ ุงููุงุญุฏ ุงููุดุชุฑู ุจูู ุงูุฐุงูุฑุฉ ูุงููุนุงูุฌ", "ุตุบุฑ ุญุฌู ุงูุฐุงูุฑุฉ", "ุชุนููุฏ ุงูุชุนูููุงุช"], a: 1, cheat: "ุทุฑูู ูุงุญุฏ ููุฐูุงุจ ูุงูุฅูุงุจ ูุณุจุจ ุฒุญุงูุงู." },
            { q: "ุงูุชุฑุชูุจ `Big Endian` ููุฑูู `0x1234` ูู ุงูุฐุงูุฑุฉ ูููู:", options: ["34 ุซู 12", "12 ุซู 34", "43 ุซู 21", "21 ุซู 43"], a: 1, cheat: "Big Endian = ุงูุฑุฃุณ ุงููุจูุฑ (ุงููุณุงุฑ) ูุฏุฎู ุฃููุงู." },
            { q: "ุงููุณุฌู ุงููุณุคูู ุนู ุญูุธ ูุงุชุฌ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูู MARIE ูู:", options: ["PC", "MAR", "AC", "IR"], a: 2, cheat: "AC = Accumulator (ุงูููุฌููุน)." },
            { q: "ูุง ูู ุงูุชุนุจูุฑ ุงูููุงูุฆ ูู ุจูุงุจุฉ NANDุ", options: ["NOT (A OR B)", "NOT (A AND B)", "A OR B", "A AND B"], a: 1, cheat: "N-AND = Not AND." },
            { q: "ูู ูุนูุงุฑูุฉ ุงูููุฏุณ (Stack Architecture)ุ ุงููุนุงุฏูุฉ `A + B` ุชูุชุจ ุจุตูุบุฉ:", options: ["A B +", "+ A B", "ADD A, B", "A + B"], a: 0, cheat: "ุงูููุฏุณ ูุญุจ Postfix (ุงูุฃุฑูุงู ุซู ุงูุนูููุฉ)." },
            { q: "ุชูููุฉ Pipelining ุชูุฏู ูุฒูุงุฏุฉ:", options: ["ุณุฑุนุฉ ุงูุณุงุนุฉ", "ุณุนุฉ ุงูุฐุงูุฑุฉ", "ุงูุฅูุชุงุฌูุฉ (Throughput)", "ุฏูุฉ ุงูุญุณุงุจุงุช"], a: 2, cheat: "ุชุฒูุฏ ุนุฏุฏ ุงูุณูุงุฑุงุช ุงููุงุตูุฉ (ุงูุฅูุชุงุฌูุฉ) ูููุณ ุณุฑุนุฉ ุงูุณูุงุฑุฉ ุงููุงุญุฏุฉ." },
            { q: "ุงูุฐุงูุฑุฉ ุงูุฃุณุฑุน ูุงูุฃุบูู ูู ูุฑู ุงูุฐุงูุฑุฉ ูู:", options: ["Cache", "Main Memory", "Registers", "SSD"], a: 2, cheat: "ุงูู Registers ุชุนูุด ุฏุงุฎู ุงููุนุงูุฌุ ููู ุงูุฃูุฑุจ." },
            { q: "ุงูุชุนูููุฉ `SKIPCOND 400` ูู MARIE ุชุนูู:", options: ["ุงููุฒ ุฅุฐุง ูุงู AC = 0", "ุงููุฒ ุฅุฐุง ูุงู AC < 0", "ุงููุฒ ุฅุฐุง ูุงู AC > 0", "ุงููุฒ ุฏุงุฆูุงู"], a: 0, cheat: "ุชุฐูุฑ: 00=ุณุงูุจุ 400=ุตูุฑุ 800=ููุฌุจ." },
            { q: "ุงูุชุญููู ูู `Hexadecimal` ุฅูู `Binary` ููุฑูู `F` ูู:", options: ["1110", "1111", "1010", "1100"], a: 1, cheat: "F ูู 15ุ ูุนูู ูู ุงูุจุชุงุช ุดุบุงูุฉ (1111)." },
            { q: "ุฃู ูู ุงูุชุงูู ููุณ ูู ูุฑุงุญู ุงููุชุฑุฌู (Compiler Phases)ุ", options: ["Lexical Analysis", "Syntax Analysis", "Fetching", "Code Generation"], a: 2, cheat: "Fetching ูุธููุฉ ุงููุงุฑุฏููุฑุ ูููุณุช ุงูุณููุชููุฑ." },

            // ุงูุฌุฒุก ุงูุซุงูู: ุงููุชูุฏู (19-60)
            { q: "ุงูุฐุงูุฑุฉ ุงูุชู ุชุญุชุงุฌ ูุนูููุฉ ุฅูุนุงุด (Refresh) ูุณุชูุฑุฉ ูู:", options: ["SRAM", "DRAM", "ROM", "Flash"], a: 1, cheat: "D = Dynamic (ูุญุชุงุฌ ุญุฑูุฉ ูุฅูุนุงุด)." },
            { q: "ูู `Direct Mapped Cache`ุ ุงููุนุงุฏูุฉ ูุชุญุฏูุฏ ุงูุจููู ูู:", options: ["Block DIV Size", "Block MOD Size", "Block X Size", "ุนุดูุงุฆู"], a: 1, cheat: "ููุฒุน ุจุงูุฏูุฑ (MOD)." },
            { q: "ุนูุฏ ุญุฏูุซ `Page Fault`ุ ูุฌุจ ุฌูุจ ุงูุจูุงูุงุช ูู:", options: ["Cache", "Registers", "Disk (Hard Drive)", "Main Memory"], a: 2, cheat: "Page Fault = ุบูุฑ ููุฌูุฏ ูู ุงูุฑุงูุ ุฅุฐู ูุฐูุจ ูููุฑุต." },
            { q: "ูุงููู `Amdahl's Law` ูุณุชุฎุฏู ูุญุณุงุจ:", options: ["ุณุนุฉ ุงูุฐุงูุฑุฉ", "ุชุญุณู ุงูุฃุฏุงุก ุงููุชููุน (Speedup)", "ุงุณุชููุงู ุงูุทุงูุฉ", "ุฏูุฉ ุงููุฑุต"], a: 1, cheat: "ุฃูุฏุงู = ูุงููู ุงูุณุฑุนุฉ." },
            { q: "ุฃู ูุณุชูู RAID ูููุฑ ุงููุณุฎ ุงููุชุทุงุจู (Mirroring)ุ", options: ["RAID 0", "RAID 1", "RAID 5", "RAID 6"], a: 1, cheat: "1 ูุนูู ูุงุญุฏ ููุงุญุฏ (ูุณุฎุฉ ุทุจู ุงูุฃุตู)." },
            { q: "ูู ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉุ ุงูุฌุฏูู ุงูุฐู ูุฑุจุท ุงูุตูุญุฉ ุงูุงูุชุฑุงุถูุฉ ุจุงูุฅุทุงุฑ ุงูููุฒูุงุฆู ูุณูู:", options: ["TLB", "Page Table", "Segment Table", "Frame Buffer"], a: 1, cheat: "ุงุณูู 'ุฌุฏูู ุงูุตูุญุงุช'." },
            { q: "ุชูููุฉ I/O ุงูุชู ุชุณูุญ ุจููู ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ููุฐุงูุฑุฉ ุฏูู ุฅุดุบุงู ุงููุนุงูุฌ ูู:", options: ["Interrupt-driven", "Programmed I/O", "DMA", "Polling"], a: 2, cheat: "DMA = Direct Memory Access." },
            { q: "ูุนูุงุฑูุฉ `RISC` ุชุชููุฒ ุจู:", options: ["ุชุนูููุงุช ูุนูุฏุฉ", "ุนุฏุฏ ูููู ูู ุงููุณุฌูุงุช", "ุชุนูููุงุช ุจุณูุทุฉ ูุซุงุจุชุฉ ุงูุทูู", "ุงูุงุนุชูุงุฏ ุนูู ุงูุฐุงูุฑุฉ"], a: 2, cheat: "R = Reduced (ูุจุณุท)." },
            { q: "ูู ุชุตููู Flynnุ ุงูุญุงุณุจุงุช ุงูุชูููุฏูุฉ (ูุญูุฏ ุงููุนุงูุฌ) ุชูุน ุชุญุช:", options: ["SIMD", "MIMD", "SISD", "MISD"], a: 2, cheat: "Single Instruction, Single Data." },
            { q: "ูููุงุณ ุงูุฃุฏุงุก ุงูุฃูุถู ูููุงุฑูุฉ ุฃุฌูุฒุฉ ูุฎุชููุฉ ูุนูุงุฑูุงู ูู:", options: ["ุงููุณุท ุงูุญุณุงุจู", "ุงููุณุท ุงูููุฏุณู (Geometric)", "ุงููุณุท ุงูุชูุงููู", "ุงููุฌููุน"], a: 1, cheat: "ุงูููุฏุณู ูู ุงูุนุงุฏู ุนูุฏ ููุงุฑูุฉ ุงููุณุจ." },
            { q: "ูุดููุฉ `Cache Coherence` ุชุธูุฑ ูู:", options: ["ูุญูุฏ ุงููุนุงูุฌ", "ุงูุฃูุธูุฉ ูุชุนุฏุฏุฉ ุงููุนุงูุฌุงุช", "RISC", "ุงูุฃูุฑุงุต"], a: 1, cheat: "ูุดููุฉ 'ุชุนุฏุฏ ุงูุทุจุงุฎูู' (ุงููุนุงูุฌุงุช)." },
            { q: "ุงูุฒูู ุงููุงุฒู ูุชุญุฑูู ุฑุฃุณ ุงููุฑุต (Disk Arm) ูููุณุงุฑ ุงููุทููุจ ูุณูู:", options: ["Rotational Delay", "Transfer Time", "Seek Time", "Access Time"], a: 2, cheat: "Seek = ุจุญุซ (ุนู ุงููุณุงุฑ)." },
            { q: "ุงูู `TLB` ูุณุชุฎุฏู ูุชุณุฑูุน:", options: ["ุงูุญุณุงุจุงุช", "ุชุฑุฌูุฉ ุงูุนูุงููู", "ููู ุงูุจูุงูุงุช", "ุงูุฌุฏููุฉ"], a: 1, cheat: "TLB ูู ูุงุด ูุฌุฏูู ุงูุตูุญุงุช." },
            { q: "ูู RAID 5ุ ุจูุงูุงุช ุงูุชูุงูุค (Parity):", options: ["ูู ูุฑุต ูุฎุตุต", "ุชูุฒุน ุนูู ุฌููุน ุงูุฃูุฑุงุต", "ูุง ุชุณุชุฎุฏู", "ูู ุงูุฑุงู"], a: 1, cheat: "ุชูุฒูุน ุงูุญูู (Distributed)." },
            { q: "ุงูุฎูุงุฑุฒููุฉ ุงูุชู ุชุญุฑู ุฑุฃุณ ุงููุฑุต ุจุงุชุฌุงู ูุงุญุฏ ููุท (ูุซู ุงููุตุนุฏ ุงูุฏุงุฆุฑู) ูู:", options: ["FCFS", "SSTF", "SCAN", "C-SCAN"], a: 3, cheat: "C = Circular (ุฏุงุฆุฑู)." },
            { q: "ุฃู ูู ุงูุชุงูู ูุนุชุจุฑ ูุธุงู ุชุดุบูู `Real-time Hard`ุ", options: ["ูุดุบู ูุณุงุฆุท", "ูุธุงู ูุณุงุฆุฏ ุงูููุงุก ููุณูุงุฑุฉ", "ูุนุงูุฌ ูุตูุต", "ูุชุตูุญ"], a: 1, cheat: "ุฎุทุฃ ุงูุชูููุช = ูุงุฑุซุฉ." },
            { q: "ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุชู ุชูุชุฑุฌู ูุชููุณุฑ (Hybrid) ูู:", options: ["C++", "Java", "Assembly", "Python"], a: 1, cheat: "ุฌุงูุง ุชุณุชุฎุฏู Bytecode ู JVM." },
            { q: "ุงูู `Watchdog Timer` ูุธููุชู:", options: ["ููุงุณ ุงูููุช", "ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู ุนูุฏ ุงูุชุฌูุฏ", "ุงูุงุชุตุงู", "ุงูุชุดููุฑ"], a: 1, cheat: "ููุจ ุญุฑุงุณุฉ ูููุธ ุงููุธุงู ุงูููุช." },
            { q: "ุงููุตูููุงุช ุงูุงููุจุงุถูุฉ (Systolic Arrays) ูููุฏุฉ ูู:", options: ["ุงููุตูุต", "ููุงุนุฏ ุงูุจูุงูุงุช", "ูุนุงูุฌุฉ ุงูุตูุฑ ูุงูุฅุดุงุฑุงุช", "ุงูููุจ"], a: 2, cheat: "ุชุถุฎ ุงูุจูุงูุงุช ูุซู ุงูููุจุ ููุชุงุฒุฉ ููุตูุฑ." },
            { q: "ูู ูุงููู ุฃูุฏุงูุ ุฅุฐุง ุทูุฑูุง ุฌุฒุกุงู (50%) ููุตุจุญ ุฃุณุฑุน 10 ูุฑุงุชุ ุงูุชุณุฑูุน ุงูููู:", options: ["10x", "5x", "2x", "1.8x"], a: 3, cheat: "ูู ูุชุฌุงูุฒ ุงูุถุนู (2x) ูุฃู ุงููุตู ุงูุขุฎุฑ ูู ูุชุบูุฑ." },
            { q: "ุงูู `Internal Fragmentation` ุชุธูุฑ ูู:", options: ["Segmentation", "Paging", "Formatting", "Cache"], a: 1, cheat: "ุงููุฑุงุบ ุงูุถุงุฆุน 'ุฏุงุฎู' ุงูุตูุญุฉ ุงูุซุงุจุชุฉ." },
            { q: "ุงูู `Locality of Reference` ุชุนูู:", options: ["ุนุดูุงุฆูุฉ", "ุงููุนุงูุฌ ูุทูุจ ุจูุงูุงุช ูุฑูุจุฉ", "ุงูุฐุงูุฑุฉ ุจุทูุฆุฉ", "ุงููุงุด ูุจูุฑ"], a: 1, cheat: "ุงูุฌุงุฑ ูุจู ุงูุฏุงุฑ." },
            { q: "ูู `Set Associative Cache` (2-way)ุ ุงูุจููู ูุฐูุจ ูู:", options: ["ููุงู ูุงุญุฏ", "ุฃู ููุงู", "ุฃู ููุงู ุฏุงุฎู ูุฌููุนุชู (Set)", "ุงููุฑุต"], a: 2, cheat: "ูุณูู ูู ุฃู ุจูุช ูุงุถู ุฏุงุฎู 'ุญุงุฑุชู'." },
            { q: "ูุณุชูู RAID ูุฌูุน ุจูู ุงูุณุฑุนุฉ ูุงูุฃูุงู:", options: ["RAID 0", "RAID 1", "RAID 5", "RAID 10"], a: 3, cheat: "1+0 = 10." },
            { q: "ุงูู `Benchmark` ูููุนุงููุงุช ูููุงุนุฏ ุงูุจูุงูุงุช:", options: ["SPEC CPU", "TPC-C", "Whetstone", "Linpack"], a: 1, cheat: "TPC ุชุจุฏุฃ ุจุญุฑู T ูุซู Transaction." },
            { q: "ุงูุญูุณุจุฉ ุงููููุฉ ุชุนุชูุฏ ุนูู:", options: ["ุงูุชุฑุงูุฒุณุชูุฑ", "Qubits", "ุงูุตูุงูุงุช", "ุงูุฃูุฑุงุต"], a: 1, cheat: "Quantum Bit." },
            { q: "ูุบุฉ `Verilog` ุชุณุชุฎุฏู ูู:", options: ["ุชุทุจููุงุช ุงูููุจ", "ูุตู ูุชุตููู ุงูุนุชุงุฏ", "ุฃูุธูุฉ ุงูุชุดุบูู", "ููุงุนุฏ ุงูุจูุงูุงุช"], a: 1, cheat: "ูุบุฉ ุงููููุฏุณูู." },
            { q: "ูู `NUMA`:", options: ["ุงูููุช ูุชุณุงูู", "ุงููุตูู ููุฐุงูุฑุฉ ุงูุฎุงุตุฉ ุฃุณุฑุน", "ูุง ุฐุงูุฑุฉ ูุดุชุฑูุฉ", "ููุญูุงุณูุจ ุงูุดุฎุตูุฉ"], a: 1, cheat: "Non-Uniform: ุงููุฑูุจ ููู ุฃุณุฑุน." },
            { q: "ุฃูุถู ุณูุงุณุฉ ุงุณุชุจุฏุงู ูููุงุด ูุธุฑูุงู:", options: ["LRU", "FIFO", "Random", "Optimal"], a: 3, cheat: "Optimal ุชุชุทูุจ ูุนุฑูุฉ ุงููุณุชูุจู." },
            { q: "ุงูู `Superscalar Architecture` ุชุนูู:", options: ["ูุนุงูุฌ ุถุฎู", "ุชูููุฐ ุฃูุซุฑ ูู ุชุนูููุฉ ูู ูุจุถุฉ", "ุจุฏูู ูุงุด", "ูุนุงูุฌ ุจุทูุก"], a: 1, cheat: "Super = ุฎุงุฑู (ุฃูุซุฑ ูู ูุงุญุฏ)." },
            { q: "ุนูุจ `SSTF` ูู:", options: ["Starvation (ุชุฌููุน) ููุจุนูุฏ", "ุจุทุก", "ุชุขูู", "ุฃุฎุทุงุก"], a: 0, cheat: "ุชุฎุฏู ุงููุฑูุจ ููุท." },
            { q: "ุงูู `Microkernel` ูุชููุฒ ุจู:", options: ["ุญุฌู ูุจูุฑ", "ุฃูุงู ูููุซูููุฉ ุนุงููุฉ", "ุตุนูุจุฉ ุงูุชุนุฏูู", "ูู ุงูุฎุฏูุงุช ุจุงูููุงุฉ"], a: 1, cheat: "ุตุบูุฑ = ุขูู." },
            { q: "ุงูุฐุงูุฑุฉ `SRAM` ุชุณุชุฎุฏู ูู:", options: ["RAM", "Cache", "Disk", "Flash"], a: 1, cheat: "S = Speed (ูููุงุด)." },
            { q: "ูุชุญุณูู ุฃุฏุงุก ุงูููุฏุ ูุณุชุฎุฏู:", options: ["Loop Unrolling", "ุฒูุงุฏุฉ ุงููุชุบูุฑุงุช", "Recursion", "ุฅููุงู ุงููุงุด"], a: 0, cheat: "ูู ุงูุญููุฉ ูููู ุงูููุฒุงุช." },
            { q: "ุงูู `Memory-Mapped I/O` ูุนูู:", options: ["ุฐุงูุฑุฉ ุฎุงุตุฉ", "I/O ูุงูุฐุงูุฑุฉ ุจููุณ ุงูุนูุงููู", "ูุง I/O", "I/O ุฃุณุฑุน"], a: 1, cheat: "ุงููุนุงูุฌ ูุฑู ุงูุทุงุจุนุฉ ูุนููุงู ูู ุงูุฐุงูุฑุฉ." },
            { q: "ุงูู `Write-through` ูุนูู:", options: ["ูู ุงููุงุด ููุท", "ูู ุงููุงุด ูุงูุฐุงูุฑุฉ ูุนุงู", "ุนูุฏ ุงูุฅุฎุฑุงุฌ", "ูุง ููุชุจ"], a: 1, cheat: "Through = ูู ุฎูุงู (ููุงุซููู)." },
            { q: "ุชุตููู Flynn ูุนุชูุฏ ุนูู:", options: ["ุงูุณุนุฑ", "ุชูุงุฑ ุงูุชุนูููุงุช ูุงูุจูุงูุงุช", "ุงูุฐุงูุฑุฉ", "ุงููุนุงูุฌ"], a: 1, cheat: "Instructions & Data Streams." },
            { q: "ูุบุฉ `SystemC` ุชุณุชุฎุฏู ูู:", options: ["ุฌุงูุง", "ุงูุชุตููู ุงููุดุชุฑู (HW/SW)", "ุงูููุจ", "DB"], a: 1, cheat: "ุชูุญุฏ ูุบุฉ ุงููุงุฑุฏููุฑ ูุงูุณููุชููุฑ." },
            { q: "ุญุณุงุจ `Average Access Time` (Hit=90%, Cache=10ns, RAM=100ns):", options: ["19ns", "20ns", "100ns", "110ns"], a: 0, cheat: "0.9*10 + 0.1*100 = 9 + 10 = 19." },
            { q: "ุงูู `Context Switch` ูุญุฏุซ ุนูุฏ:", options: ["ุงูููุงูุฉ", "ุงูุงูุชูุงู ูู ุนูููุฉ ูุฃุฎุฑู", "ุงูุชุดุบูู", "ุงูุญูุธ"], a: 1, cheat: "ุชุจุฏูู ุงูุณูุงู." },
            { q: "ุงูู `Dynamic Linking` ูุชู:", options: ["ุฃุซูุงุก ุงููุชุงุจุฉ", "ุฃุซูุงุก ุงูุชุฑุฌูุฉ", "ุฃุซูุงุก ุงูุชุดุบูู", "ูุง ูุชู"], a: 2, cheat: "Dynamic = ุญู (ููุช ุงูุชุดุบูู)." },
            { q: "ูุชูููู `Disk Arm Motion` ูุณุชุฎุฏู:", options: ["ุณุฑุนุฉ ุฏูุฑุงู", "ุฌุฏููุฉ ุงููุฑุต (SCAN)", "ุญุฌู ูููุงุช", "RAID 0"], a: 1, cheat: "ุชูุธูู ุงููุตุนุฏ." }
        ];

        const essayData = [
            {
                q: "ุณ1: ุงุดุฑุญ ุจุงุฎุชุตุงุฑ ุฏูุฑุฉ ุงูุฌูุจ ูุงูุชูููุฐ (Fetch-Decode-Execute Cycle)ุ",
                a: "<strong>1. Fetch:</strong> ุงููุนุงูุฌ ูุณุชุฎุฏู PC ูุฌูุจ ุนููุงู ุงูุชุนูููุฉุ ููุถุนูุง ูู IR.<br><strong>2. Decode:</strong> ูุญูู ุงููุนุงูุฌ ุงูู Opcode ููููู ุงููุทููุจ.<br><strong>3. Execute:</strong> ูููุฐ ุงูุฃูุฑ (ุญุณุงุจุ ููู..)."
            },
            {
                q: "ุณ2: ูุงุฑู ุจูู Direct Mapped ู Fully Associative Cacheุ",
                a: "<strong>Direct:</strong> ูู ุจููู ูู ููุงู ูุงุญุฏ ูุญุฏุฏ (ุณุฑูุนุ ููู ุชุตุงุฏู ุนุงูู).<br><strong>Fully:</strong> ุงูุจููู ููุถุน ูู ุฃู ููุงู (ูุฑูุ ููู ุจุญุซ ุจุทูุก ููููู)."
            },
            {
                q: "ุณ3: ูุฏูู ุฎูุงุฑุงู: ุชุณุฑูุน ุงููุนุงูุฌ 10 ูุฑุงุช (40% ุงุณุชุฎุฏุงู) ุฃู ุงููุฑุต ูุฑุชูู (60% ุงุณุชุฎุฏุงู). ุฃูููุง ุชุฎุชุงุฑุ",
                a: "ูุญุณุจ ุจูุงููู ุฃูุฏุงู:<br>ุงููุนุงูุฌ: S = 1 / ((0.6) + (0.4/10)) = 1.56<br>ุงููุฑุต: S = 1 / ((0.4) + (0.6/2)) = 1.42<br><strong>ุงููุฑุงุฑ:</strong> ูุฎุชุงุฑ ุงููุนุงูุฌ ูุฃูู ูุนุทู ุชุณุฑูุนุงู ูููุงู ุฃูุจุฑ."
            },
            {
                q: "ุณ4: ููุงุฐุง ูุนุชุจุฑ RAID 5 ุงูุฃูุซุฑ ุดููุนุงูุ",
                a: "ูุฃูู ูุญู ูุดููุฉ ุงูุชูููุฉ (ูุญุชุงุฌ ูุฑุตุงู ูุงุญุฏุงู ููุท ููุชูุงูุค) ููุญู ูุดููุฉ ุนูู ุงูุฒุฌุงุฌุฉ ุจุชูุฒูุน ุจูุงูุงุช ุงูุชูุงูุค (Distributed Parity) ุนูู ูู ุงูุฃูุฑุงุต."
            },
            {
                q: "ุณ5: ููู ูุชุฑุฌู TLB ุงูุนููุงู ุงูุงูุชุฑุงุถูุ",
                a: "ูุจุญุซ ุงููุนุงูุฌ ุนู ุฑูู ุงูุตูุญุฉ ูู TLB (ุงููุงุด ุงูุณุฑูุน).<br>ุฅุฐุง ูุฌุฏู (Hit): ูุฃุฎุฐ ุฑูู ุงูุฅุทุงุฑ ููุฑุงู.<br>ุฅุฐุง ูู ูุฌุฏู (Miss): ูุฐูุจ ููุฐุงูุฑุฉ (Page Table) ููุญุฏุซ TLB."
            }
        ];

        // ==========================================
        // 2. ุงููุญุฑู (Engine)
        // ==========================================
        
        let timeLeft = localStorage.getItem('arch_exam_time') ? parseInt(localStorage.getItem('arch_exam_time')) : 90 * 60;
        let timerInterval;

        function initExam() {
            const container = document.getElementById('quiz-container');
            
            // 1. ุฅุถุงูุฉ ุฃุณุฆูุฉ MCQ
            mcqData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-${index}`;
                
                let opts = '';
                item.options.forEach((opt, i) => {
                    opts += `<button class="option-btn" onclick="check(${index}, ${i})">${opt}</button>`;
                });

                card.innerHTML = `
                    <h3 class="font-bold text-lg mb-4 text-blue-900">ุณ${index+1}: ${item.q}</h3>
                    <div class="space-y-2">${opts}</div>
                    <div class="cheat-box" id="cheat-${index}">
                        <strong>๐ก ุชูููุญ:</strong> ${item.cheat}
                    </div>
                `;
                container.appendChild(card);
            });

            // 2. ุฅุถุงูุฉ ุงูููุงูู
            const essaySection = document.createElement('h2');
            essaySection.className = "text-2xl font-black text-blue-800 mt-12 mb-6 border-b-4 border-blue-200 pb-2";
            essaySection.innerText = "ุงูุฃุณุฆูุฉ ุงูููุงููุฉ (Essay Questions)";
            container.appendChild(essaySection);

            essayData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card border-l-4 border-l-indigo-500';
                card.innerHTML = `
                    <h3 class="font-bold text-lg mb-4 text-indigo-900">${item.q}</h3>
                    <textarea class="w-full p-3 border rounded-lg mb-4 font-sans" rows="3" placeholder="ุงูุชุจ ุฅุฌุงุจุชู ููุง ููุชุฏุฑูุจ..."></textarea>
                    <button onclick="toggleEssay(${index})" class="text-sm bg-indigo-100 text-indigo-700 px-3 py-1 rounded hover:bg-indigo-200 font-bold transition">ุนุฑุถ ุงูุฅุฌุงุจุฉ ุงููููุฐุฌูุฉ</button>
                    <div class="essay-answer" id="essay-${index}">${item.a}</div>
                `;
                container.appendChild(card);
            });

            startTimer();
            restoreProgress();
        }

        function check(qIdx, optIdx) {
            const card = document.getElementById(`q-${qIdx}`);
            const btns = card.querySelectorAll('.option-btn');
            const correctIdx = mcqData[qIdx].a;

            btns.forEach(b => b.classList.add('disabled'));

            if (optIdx === correctIdx) {
                btns[optIdx].classList.add('correct');
                card.classList.add('correct-card');
            } else {
                btns[optIdx].classList.add('wrong');
                btns[correctIdx].classList.add('correct'); // ุฃุฑูู ุงูุตุญ
                card.classList.add('wrong-card');
            }

            document.getElementById(`cheat-${qIdx}`).style.display = 'block';
            saveProgress(qIdx, optIdx);
        }

        function toggleEssay(idx) {
            const el = document.getElementById(`essay-${idx}`);
            el.style.display = el.style.display === 'block' ? 'none' : 'block';
        }

        function revealAll() {
            if(!confirm("ูู ุฃูุช ูุชุฃูุฏุ ุณูุชู ุญู ุฌููุน ุงูุฃุณุฆูุฉ.")) return;
            mcqData.forEach((item, i) => {
                check(i, item.a);
            });
            essayData.forEach((item, i) => {
                document.getElementById(`essay-${i}`).style.display = 'block';
            });
        }

        function startTimer() {
            const el = document.getElementById('timer');
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    el.innerText = "ุงูุชูู ุงูููุช!";
                    return;
                }
                timeLeft--;
                localStorage.setItem('arch_exam_time', timeLeft);
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                el.innerText = `${m}:${s < 10 ? '0'+s : s}`;
            }, 1000);
        }

        function resetExam() {
            if(confirm("ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ ุณุชุญุฐู ูู ุฅุฌุงุจุงุชู. ููุงููุ")) {
                localStorage.removeItem('arch_exam_progress');
                localStorage.removeItem('arch_exam_time');
                location.reload();
            }
        }

        function saveProgress(q, a) {
            let p = JSON.parse(localStorage.getItem('arch_exam_progress') || '{}');
            p[q] = a;
            localStorage.setItem('arch_exam_progress', JSON.stringify(p));
        }

        function restoreProgress() {
            let p = JSON.parse(localStorage.getItem('arch_exam_progress') || '{}');
            for (let q in p) {
                check(parseInt(q), p[q]);
            }
        }

        // ุชุดุบูู ุนูุฏ ุงูุชุญููู
        document.addEventListener('DOMContentLoaded', initExam);

    </script>
</body>
</html>